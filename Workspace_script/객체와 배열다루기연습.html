<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h2>객체와 배열 다루기</h2>

  <script>
    const movie_info = [
      {
        movie_title : '영화1',
        theater : ['울산점', '부산점', '서울점'],
        grade : [4.0, 5.0, 3.2]
      }, 
      {
        movie_title : '영화2',
        theater : ['대구점', '부산점', '서울점'],
        grade: [3.3, 4.0, 4.2]
      }, 
      {
        movie_title : '영화3',
        theater : ['울산점', '대전점', '제주점'],
        grade: [2.5, 4.5, 4.3]
      }];

      console.log(movie_info);
      // 영화 중에서 평균 평점이 가장 높은 영화의 평균 평점과 영화명을 출력
      // 반복하면서 각 영화의 평균 평점을 계산
      // 각 영화의 평점 배열의 요소의 합을 구함
      let max_garde = 0;
      movie_info.forEach(function(movie, i){
        let sum=0;
        for(const grade of movie.grade){
          sum=sum+grade;
        }
        const avg= sum/movie.grade.length;  
        
                // for(let i=0; i<movie_info.length; i++){
                //   let a= movie_info[i];
                //   if(movie_info.grade<a){
                //     console.log(a.grade, a.movie_title);
        
                    if(max_garde < avg){
                      max_garde=avg;
                    }
                //   }
                // }
      });
        console.log(max_garde);

console.log('\n');
        // 영화제목이 '영화2'인 영화를 제외한 나머지 영화의 모든 상영관명을 배열에 저장 하시오
        const theater_arr=[];
        movie_info.forEach(function(e, index){
            if(e.movie_title != '영화2'){
              for(const each of e.theater){
                theater_arr.push(each);
              }
            }
          });
          console.log(theater_arr);
  </script>
</body>
</html>